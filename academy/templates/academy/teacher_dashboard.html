{% extends 'academy/base.html' %}

{% block title %}ì„ ìƒë‹˜ ëŒ€ì‹œë³´ë“œ{% endblock %}

{% block content %}
<h2 class="mb-4">ğŸ‘©â€ğŸ« {{ request.user.username }} ì„ ìƒë‹˜ ëŒ€ì‹œë³´ë“œ</h2>
<a href="{% url 'teacher_logout' %}" class="btn btn-danger btn-sm float-end mb-3">ë¡œê·¸ì•„ì›ƒ</a>
<a href="{% url 'student_create' %}" class="btn btn-primary me-2">â• í•™ìƒ ë“±ë¡</a>
<a href="{% url 'classroom_create' %}" class="btn btn-outline-secondary">â• ë°˜ ë§Œë“¤ê¸°</a>
<a href="{% url 'mileage_rule_list' %}" class="btn btn-outline-primary">ğŸ¯ ë§ˆì¼ë¦¬ì§€ ê·œì¹™</a>

<hr class="my-4">

{% for classroom in classrooms %}
  <div class="mb-4">
    <h4 class="d-flex justify-content-between align-items-center">
      <span>ğŸ“˜ {{ classroom.name }}</span>
      {% if classroom.name != "ë¯¸ì •" %}
        <a href="{% url 'delete_classroom' classroom.id %}" class="btn btn-sm btn-danger">ë°˜ ì‚­ì œ</a>
      {% endif %}
    </h4>
    <ul class="list-group">
      {% for student in students %}
        {% if student.classroom == classroom %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ student.name }} ({{ student.grade }}í•™ë…„)
            <span>
              <a href="{% url 'student_edit' student.id %}" class="btn btn-sm btn-outline-secondary">ìˆ˜ì •</a>
              <a href="{% url 'assignment_list' %}?student={{ student.id }}" class="btn btn-sm btn-outline-primary">ê³¼ì œ</a>
              <a href="{% url 'exam_list' %}?student={{ student.id }}" class="btn btn-sm btn-outline-success">ì‹œí—˜</a>
              <a href="{% url 'attendance_list' %}?student={{ student.id }}" class="btn btn-sm btn-outline-warning">ì¶œê²°</a>
            </span>
          </li>
        {% endif %}
      {% endfor %}
    </ul>
  </div>
{% empty %}
  <p>ì•„ì§ ë‹´ë‹¹ ì¤‘ì¸ ë°˜ì´ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € <strong>ë°˜ì„ ë“±ë¡</strong>í•´ ì£¼ì„¸ìš”.</p>
{% endfor %}
{% endblock %}
