<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

<div class="container mt-5">
  <h2>{{ student.name }} 님의 마이페이지</h2>
  <p><strong>반:</strong> {{ student.classroom.name }}</p>
  <p><strong>학년:</strong> {{ student.grade }}</p>
  <p><strong>마일리지:</strong> {{ mileage.total_points }}점</p>

  <hr>

  <h4>📘 출결 내역</h4>
  <ul class="list-group mb-4">
    {% for a in attendances %}
      <li class="list-group-item">{{ a.date }} - {{ a.get_status_display }}</li>
    {% empty %}
      <li class="list-group-item">출결 내역 없음</li>
    {% endfor %}
  </ul>

  <h4>📝 과제 목록</h4>
  <ul class="list-group mb-4">
    {% for asg in assignments %}
      <li class="list-group-item">
        {{ asg.title }} -
        {% if asg.submitted %}제출됨{% else %}미제출{% endif %}
        ({{ asg.points }}점)
      </li>
    {% empty %}
      <li class="list-group-item">과제 없음</li>
    {% endfor %}
  </ul>

  <h4>🧪 시험 성적</h4>
  <ul class="list-group mb-4">
    {% for e in exams %}
      <li class="list-group-item">{{ e.exam_date }} - {{ e.subject }}: {{ e.score }}점</li>
    {% empty %}
      <li class="list-group-item">시험 성적 없음</li>
    {% endfor %}
  </ul>

  <a href="{% url 'student_list' %}" class="btn btn-secondary mt-3">← 학생 목록으로</a>
</div>
